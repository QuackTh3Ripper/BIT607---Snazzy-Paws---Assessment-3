<!doctype html>
<html lang="en">
<head>
<script>
(function(){
  
  // Protect roster.html: if not logged in, redirect to login.html
  try{
    var allowed = sessionStorage.getItem('sp_logged_in');
    if (allowed !== 'true') {
      // preserve attempted URL so login can redirect back
      sessionStorage.setItem('sp_after_login', window.location.pathname + window.location.search + window.location.hash);
      window.location.replace('login.html');
    }
  } catch(e){
    console.error(e);
    window.location.replace('login.html');
  }
})();
</script>

<meta name="robots" content="noindex, nofollow">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Staff Roster — Snazzy Paws Grooming</title>
  <meta name="description" content="Weekly Staff Roster - Snazzy Paws Grooming">
  
  <!-- Bootstrap CSS -->
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@600;700;800&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.min.css">
  <style>
    .roster-container {
      background: #fff8d7;
      border-radius: 12px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.07);
    }
    .table-hover tbody tr:hover {
      background: #fff2b8;
      transition: 0.3s;
    }
  </style>
</head>
<body>
  <header class="bg-white shadow-sm sticky-top">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
          <a class="navbar-brand d-flex align-items-center" href="index.html">
            <img src="cropped-snazzy5-1.webp" alt="Snazzy Paws Logo" class="me-3" style="height:60px;">
            <div>
              <h1 class="h5 mb-0" style="color:#0b6b64;">Snazzy Paws Grooming</h1>
              <div class="small text-muted">Snazzy Paws — Professional Dog Grooming</div>
            </div>
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="services.html">Services</a></li>
              <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
              <li class="nav-item"><a class="nav-link" href="booking.html">Booking</a></li>
              <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
              <li class="nav-item"><a class="nav-link active fw-bold" href="roster.html">Roster</a></li>
              <li class="nav-item"><a class="nav-link" href="privacy.html">Privacy</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <main class="container my-4">
    
    <!-- Password screen -->
    
    <div id="lockscreen" class="roster-container p-4 mb-4">
      <h2 class="h3 mb-3">Staff Roster (Locked)</h2>
      <p class="mb-3">Please enter the staff password to view the roster:</p>
      <div class="row g-2">
        <div class="col-md-4">
          <input type="password" class="form-control" id="pw" placeholder="Password">
        </div>
        <div class="col-md-2">
          <button class="btn w-100" style="background:#0b6b64;color:white;" onclick="unlock()" id="unlockButton">Unlock</button>
        </div>
      </div>
    </div>

    <!-- Roster content -->
    
    <div id="roster" class="roster-container p-4" style="display:none;">
      <h2 class="h3 mb-4" style="color:#0b6b64;">Weekly Staff Roster</h2>
      
      <div class="table-responsive">
        <table class="table table-hover">
          <thead class="table-dark">
            <tr>
              <th>Day</th>
              <th>Staff</th>
              <th>Shift</th>
            </tr>
          </thead>
          <tbody id="rosterTable">
            <tr><td>Sunday</td><td>Jamie & Alex</td><td>8:00am – 5:00pm</td></tr>
            <tr><td>Monday</td><td>Casey & Riley</td><td>9:30am – 3:00pm</td></tr>
            <tr><td>Tuesday</td><td>Riley & Taylor</td><td>10:00am – 6:00pm</td></tr>
            <tr><td>Wednesday</td><td>Alex & Taylor</td><td>9:00am – 4:00pm</td></tr>
            <tr><td>Thursday</td><td>Taylor & Alex</td><td>8:30am – 5:30pm</td></tr>
            <tr><td>Friday</td><td>Jordan & Jamie</td><td>9:00am – 3:00pm</td></tr>
            <tr><td>Saturday</td><td>Riley & Alex</td><td>10:00am – 2:00pm</td></tr>
          </tbody>
        </table>
      </div>

      <div class="d-flex gap-2 mt-3">
        <button class="btn" style="background:#0b6b64;color:white;" id="editButton" onclick="editRoster()">Edit Roster</button>
        <button class="btn" style="background:#f8d12f;color:#333;" id="saveButton" onclick="saveRoster()" style="display:none;">Save Changes</button>
      </div>
    </div>
  </main>

  <footer class="bg-light py-4 mt-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6">
          <div>Snazzy Paws Grooming — Open Mon–Sat 9am–5pm</div>
        </div>
        <div class="col-md-6 text-md-end">
          <div>© 2025 Snazzy Paws</div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    
    // Unlock Roster
    
    function unlock() {
      const pw = document.getElementById("pw").value;
      if (pw === "Snazzy123") {
        sessionStorage.setItem("unlocked", "true");
        document.getElementById("lockscreen").style.display = "none";
        document.getElementById("roster").style.display = "block";
      } else {
        alert("Incorrect password.");
      }
    }

    // Keep unlocked if already entered
    
    window.onload = function() {
      if (sessionStorage.getItem("unlocked") === "true") {
        document.getElementById("lockscreen").style.display = "none";
        document.getElementById("roster").style.display = "block";
      }
    }

    // Edit roster after password confirmation
    
    function editRoster() {
      const pw = prompt("Enter password to edit roster:");
      if (pw === "Snazzy123") {
        const cells = document.querySelectorAll("#rosterTable td");
        cells.forEach(td => td.contentEditable = "true");
        document.getElementById("saveButton").style.display = "inline-block";
        alert("Editing enabled. Make your changes, then click 'Save Changes'.");
      } else if (pw) {
        alert("Incorrect password.");
      }
    }

    // Save changes
    
    function saveRoster() {
      const cells = document.querySelectorAll("#rosterTable td");
      cells.forEach(td => td.contentEditable = "false");
      document.getElementById("saveButton").style.display = "none";
      alert("Roster changes saved (local only).");
    }
  </script>

<div style="position:fixed;right:18px;top:18px;z-index:10000;">
  <button id="sp-logout" style="padding:8px 12px;border-radius:8px;border:0;background:#ff5a5f;color:#fff;cursor:pointer">Logout</button>
</div>
<script>
(function(){
  var btn = document.getElementById('sp-logout');
  if(!btn){
    
    // create and append
    
    btn = document.createElement('button');
    btn.id = 'sp-logout';
    btn.textContent = 'Logout';
    btn.style.cssText = 'padding:8px 12px;border-radius:8px;border:0;background:#ff5a5f;color:#fff;cursor:pointer;position:fixed;right:18px;top:18px;z-index:10000';
    document.body.appendChild(btn);
  }
  btn.addEventListener('click', function(){
    try{ sessionStorage.removeItem('sp_logged_in'); sessionStorage.removeItem('sp_user'); }catch(e){}
    
    // optional: also try to clear basic auth by requesting with 401? Can't reliably clear browser cached basic auth.
    
    window.location.href = 'index.html';
  });
})();
</script>

</body>
</html>
